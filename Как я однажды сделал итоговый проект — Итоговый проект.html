<!DOCTYPE html>
<!-- saved from url=(0043)https://www.51.250.34.42.nip.io/?page_id=26 -->
<html lang="ru-RU"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="profile" href="https://gmpg.org/xfn/11">

		<title>Как я однажды сделал итоговый проект — Итоговый проект</title>
<meta name="robots" content="max-image-preview:large">
<link rel="alternate" type="application/rss+xml" title="Итоговый проект » Лента" href="https://www.51.250.34.42.nip.io/?feed=rss2">
<link rel="alternate" type="application/rss+xml" title="Итоговый проект » Лента комментариев" href="https://www.51.250.34.42.nip.io/?feed=comments-rss2">
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.51.250.34.42.nip.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.7-alpha-59114"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\u2b1b","\ud83d\udc26\u200b\u2b1b")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id="wp-emoji-styles-inline-css" type="text/css">

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel="stylesheet" id="wp-block-library-css" href="./Как я однажды сделал итоговый проект — Итоговый проект_files/style.min.css" type="text/css" media="all">
<style id="classic-theme-styles-inline-css" type="text/css">
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id="global-styles-inline-css" type="text/css">
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel="stylesheet" id="bootstrap-min-css" href="./Как я однажды сделал итоговый проект — Итоговый проект_files/bootstrap.min.css" type="text/css" media="all">
<link rel="stylesheet" id="owl-carousel-min-css" href="./Как я однажды сделал итоговый проект — Итоговый проект_files/owl.carousel.min.css" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-css" href="./Как я однажды сделал итоговый проект — Итоговый проект_files/font-awesome.min.css" type="text/css" media="all">
<link rel="stylesheet" id="animate-css" href="./Как я однажды сделал итоговый проект — Итоговый проект_files/animate.min.css" type="text/css" media="all">
<link rel="stylesheet" id="flixita-main-css" href="./Как я однажды сделал итоговый проект — Итоговый проект_files/main.css" type="text/css" media="all">
<link rel="stylesheet" id="flixita-media-query-css" href="./Как я однажды сделал итоговый проект — Итоговый проект_files/responsive.css" type="text/css" media="all">
<link rel="stylesheet" id="flixita-fonts-css" href="./Как я однажды сделал итоговый проект — Итоговый проект_files/d17ba39ea517fc17b24711cbeb6b4834.css" type="text/css" media="all">
<link rel="stylesheet" id="flixita-style-css" href="./Как я однажды сделал итоговый проект — Итоговый проект_files/style.css" type="text/css" media="all">
<style id="flixita-style-inline-css" type="text/css">
.breadcrumb-area:after {
				background-color: #000000;
				opacity: 0.75;
			}
.logo img, .mobile-logo img {max-width: 150px;}

.main-slider {
					    background: rgba(0, 0, 0, 0.75);
				}
.flixita-call-action-section {
								background-image: url(https://www.51.250.34.42.nip.io/wp-content/plugins/daddy-plus//inc/flixita/images/call-action-bg.png);
							}

</style>
<script type="text/javascript" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/jquery.min.js.Без названия" id="jquery-core-js"></script>
<script type="text/javascript" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/jquery-migrate.min.js.Без названия" id="jquery-migrate-js"></script>
<script type="text/javascript" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/wow.min.js.Без названия" id="wow-min-js"></script>
<link rel="https://api.w.org/" href="https://www.51.250.34.42.nip.io/index.php?rest_route=/"><link rel="alternate" title="JSON" type="application/json" href="https://www.51.250.34.42.nip.io/index.php?rest_route=/wp/v2/pages/26"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.51.250.34.42.nip.io/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.7-alpha-59114">
<link rel="canonical" href="https://www.51.250.34.42.nip.io/?page_id=26">
<link rel="shortlink" href="https://www.51.250.34.42.nip.io/?p=26">
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="https://www.51.250.34.42.nip.io/index.php?rest_route=%2Foembed%2F1.0%2Fembed&amp;url=https%3A%2F%2Fwww.51.250.34.42.nip.io%2F%3Fpage_id%3D26">
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="https://www.51.250.34.42.nip.io/index.php?rest_route=%2Foembed%2F1.0%2Fembed&amp;url=https%3A%2F%2Fwww.51.250.34.42.nip.io%2F%3Fpage_id%3D26&amp;format=xml">
	<style type="text/css">
					h4.site-title,
			p.site-description {
				color: #fff;
			}
			</style>
	<link rel="icon" href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/cropped-issledovanija-v-oblasti-upravlenija-proektami-i-optimizacii-biznes-processov-32x32.png" sizes="32x32">
<link rel="icon" href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/cropped-issledovanija-v-oblasti-upravlenija-proektami-i-optimizacii-biznes-processov-192x192.png" sizes="192x192">
<link rel="apple-touch-icon" href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/cropped-issledovanija-v-oblasti-upravlenija-proektami-i-optimizacii-biznes-processov-180x180.png">
<meta name="msapplication-TileImage" content="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/cropped-issledovanija-v-oblasti-upravlenija-proektami-i-optimizacii-biznes-processov-270x270.png">
<style id="wpforms-css-vars-root">
				:root {
					--wpforms-field-border-radius: 3px;
--wpforms-field-border-style: solid;
--wpforms-field-border-size: 1px;
--wpforms-field-background-color: #ffffff;
--wpforms-field-border-color: rgba( 0, 0, 0, 0.25 );
--wpforms-field-border-color-spare: rgba( 0, 0, 0, 0.25 );
--wpforms-field-text-color: rgba( 0, 0, 0, 0.7 );
--wpforms-field-menu-color: #ffffff;
--wpforms-label-color: rgba( 0, 0, 0, 0.85 );
--wpforms-label-sublabel-color: rgba( 0, 0, 0, 0.55 );
--wpforms-label-error-color: #d63637;
--wpforms-button-border-radius: 3px;
--wpforms-button-border-style: none;
--wpforms-button-border-size: 1px;
--wpforms-button-background-color: #066aab;
--wpforms-button-border-color: #066aab;
--wpforms-button-text-color: #ffffff;
--wpforms-page-break-color: #066aab;
--wpforms-background-image: none;
--wpforms-background-position: center center;
--wpforms-background-repeat: no-repeat;
--wpforms-background-size: cover;
--wpforms-background-width: 100px;
--wpforms-background-height: 100px;
--wpforms-background-color: rgba( 0, 0, 0, 0 );
--wpforms-background-url: none;
--wpforms-container-padding: 0px;
--wpforms-container-border-style: none;
--wpforms-container-border-width: 1px;
--wpforms-container-border-color: #000000;
--wpforms-container-border-radius: 3px;
--wpforms-field-size-input-height: 43px;
--wpforms-field-size-input-spacing: 15px;
--wpforms-field-size-font-size: 16px;
--wpforms-field-size-line-height: 19px;
--wpforms-field-size-padding-h: 14px;
--wpforms-field-size-checkbox-size: 16px;
--wpforms-field-size-sublabel-spacing: 5px;
--wpforms-field-size-icon-size: 1;
--wpforms-label-size-font-size: 16px;
--wpforms-label-size-line-height: 19px;
--wpforms-label-size-sublabel-font-size: 14px;
--wpforms-label-size-sublabel-line-height: 17px;
--wpforms-button-size-font-size: 17px;
--wpforms-button-size-height: 41px;
--wpforms-button-size-padding-h: 15px;
--wpforms-button-size-margin-top: 10px;
--wpforms-container-shadow-size-box-shadow: none;

				}
			</style>	<script src="./Как я однажды сделал итоговый проект — Итоговый проект_files/wp-emoji-release.min.js.Без названия" defer=""></script></head>
	
<body class="page-template-default page page-id-26 btn-style-one alexia-theme">
<a class="screen-reader-text skip-link" href="https://www.51.250.34.42.nip.io/?page_id=26#content">Промотать к содержимому</a>
<header id="main-header" class="main-header">
	<div id="above-header" class="above-header d-lg-block wow fadeInDown" style="visibility: visible; animation-name: fadeInDown;">
	<div class="header-widget d-flex align-items-center">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 col-12 mb-lg-0 mb-4">
					<div class="widget-left text-lg-left text-center">
													<aside class="widget widget-contact info1">
								<div class="contact-area">
																			<div class="contact-icon">
											<div class="contact-corn"><i class="fa fa-envelope"></i></div>
										</div>
																												<div class="contact-info">
											<h6 class="title"><a href="https://www.51.250.34.42.nip.io/?page_id=26#">admin@51.250.34.42.nip.io</a></h6>
										</div>
																	</div>
							</aside>
							
						
													<aside class="widget widget-contact info2">
								<div class="contact-area">
																			<div class="contact-icon">
											<div class="contact-corn"><i class="fa fa-phone"></i></div>
										</div>
																												<div class="contact-info">
											<h6 class="title"><a href="https://www.51.250.34.42.nip.io/?page_id=26#">+79220000007</a></h6>
										</div>
																	</div>
							</aside>
							
					</div>
				</div>
					<div class="col-lg-6 col-12 mb-lg-0 mb-4">                            
						<div class="widget-right justify-content-lg-end justify-content-center text-lg-right text-center">
															<aside class="widget widget-contact info3">
									<div class="contact-area">
																					<div class="contact-icon">
												<div class="contact-corn"><i class="fa fa-map-marker"></i></div>
											</div>
																															<div class="contact-info">
												<h6 class="title"><a href="https://www.51.250.34.42.nip.io/?page_id=26#">Сургут, TX 70240</a></h6>
											</div>
																			</div>
								</aside>
									
								
								
								<aside class="widget widget_social_widget third">
									<ul>
																				<li><a href="https://www.51.250.34.42.nip.io/?page_id=26#"><i class="fa fa-facebook"></i></a></li>
																				<li><a href="https://www.51.250.34.42.nip.io/?page_id=26#"><i class="fa fa-twitter"></i></a></li>
																				<li><a href="https://www.51.250.34.42.nip.io/?page_id=26#"><i class="fa fa-instagram"></i></a></li>
																				<li><a href="https://www.51.250.34.42.nip.io/?page_id=26#"><i class="fa fa-pinterest"></i></a></li>
																			</ul>
								</aside>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="navigation-wrapper">
		<div class="main-navigation-area d-none d-lg-block">
			<div class="main-navigation is-sticky-on">
				<div class="container">
					<div class="row">
						<div class="col-3 my-auto">
							<div class="logo">
							  	<a href="https://www.51.250.34.42.nip.io/">
		<h4 class="site-title">
			Итоговый проект		</h4>
	</a>	
	<p class="site-description">Сформировал и выполнил Лихашва В.C.</p>
							</div>
						</div>
						<div class="col-9 my-auto">
							<nav class="navbar-area">
								<div class="main-navbar">
								   <ul id="menu-menu-1" class="main-menu"><li id="menu-item-48" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-48"><a class="nav-link" title="Blog" href="https://www.51.250.34.42.nip.io/?page_id=15">Blog</a></li>
<li id="menu-item-47" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home current-menu-ancestor current-menu-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-47 dropdown active"><a class="nav-link" title="Смотреть итоговый проект" href="https://www.51.250.34.42.nip.io/">Смотреть итоговый проект </a>
<span class="mobile-collapsed d-lg-none"><button type="button" class="fa fa-chevron-right" aria-label="Mobile Collapsed"></button></span><ul class="dropdown-menu" role="menu">
	<li id="menu-item-49" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-26 current_page_item menu-item-49 active"><a class="dropdown-item" title="Как я однажды сделал итоговый проект" href="https://www.51.250.34.42.nip.io/?page_id=26">Как я однажды сделал итоговый проект</a></li>
</ul>
</li>
</ul>                           
								</div>
								<div class="main-menu-right">
									<ul class="menu-right-list">
																															<li class="search-button">
												<button type="button" id="header-search-toggle" class="header-search-toggle" aria-expanded="false" aria-label="Всплывающее окно поиска"><i class="fa fa-search"></i></button>
												<div class="header-search-popup">
													<div class="header-search-flex">
														<form method="get" class="search-form" action="https://www.51.250.34.42.nip.io/" aria-label="Поиск по сайту">
															<input type="search" class="form-control header-search-field" placeholder="Введите для поиска" name="s" id="search">
															<button type="submit" class="search-submit"><i class="fa fa-search"></i></button>
														</form>
														<button type="button" id="header-search-close" class="close-style header-search-close" aria-label="Всплывающее окно поиска Закрыть"></button>
													</div>
												</div>
											</li>
																				
																					<li class="button-area">
												<a href="https://www.51.250.34.42.nip.io/?page_id=26" class="btn btn-primary">Свяжитесь с нами</a>
											</li>
																				
									</ul>                            
								</div>
							</nav>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="main-mobile-nav is-sticky-on"> 
			<div class="container">
				<div class="row">
					<div class="col-12">
						<div class="main-mobile-menu">
							<div class="mobile-logo">
								<div class="logo">
								   	<a href="https://www.51.250.34.42.nip.io/">
		<h4 class="site-title">
			Итоговый проект		</h4>
	</a>	
	<p class="site-description">Сформировал и выполнил Лихашва В.C.</p>
								</div>
							</div>
							<div class="menu-collapse-wrap">
								<div class="hamburger-menu">
									<button type="button" class="menu-collapsed" aria-label="Свернуть меню">
										<div class="top-bun"></div>
										<div class="meat"></div>
										<div class="bottom-bun"></div>
									</button>
								</div>
							</div>
							<div class="main-mobile-wrapper">
								<div id="mobile-menu-build" class="main-mobile-build">
									<button type="button" class="header-close-menu close-style" aria-label="Заголовок Закрыть меню"></button>
								<ul id="menu-menu-1" class="main-menu"><li id="menu-item-48" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-48"><a class="nav-link" title="Blog" href="https://www.51.250.34.42.nip.io/?page_id=15">Blog</a></li>
<li id="menu-item-47" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home current-menu-ancestor current-menu-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-47 dropdown active"><a class="nav-link" title="Смотреть итоговый проект" href="https://www.51.250.34.42.nip.io/">Смотреть итоговый проект </a>
<span class="mobile-collapsed d-lg-none"><button type="button" class="fa fa-chevron-right" aria-label="Mobile Collapsed"></button></span><ul class="dropdown-menu" role="menu">
	<li id="menu-item-49" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-26 current_page_item menu-item-49 active"><a class="dropdown-item" title="Как я однажды сделал итоговый проект" href="https://www.51.250.34.42.nip.io/?page_id=26">Как я однажды сделал итоговый проект</a></li>
</ul>
</li>
</ul></div>
							</div>
						</div>
					</div>
				</div>
			</div>        
		</div>
	</div>
</header>
<div id="content" class="flixita-theme-data">
	<section id="breadcrumb-section" class="breadcrumb-area breadcrumb-center" style="background: url(https://www.51.250.34.42.nip.io/wp-content/themes/flixita/assets/images/page-header.jpg) center center scroll;">
	<div class="container">
		<div class="row">
			<div class="col-12">
				<div class="breadcrumb-content">
					<div class="breadcrumb-heading">
						<h1>
							Как я однажды сделал итоговый проект						</h1>
					</div>
					<ol class="breadcrumb-list">
						<li><a href="https://www.51.250.34.42.nip.io/"><i class="fa fa-home"></i></a></li>
						<li>
							Домашняя</li><li><a href="https://www.51.250.34.42.nip.io/"></a> &nbsp;::&nbsp;</li><li class="active">Как я однажды сделал итоговый проект</li>						
					</ol>
				</div>                    
			</div>
		</div>
	</div>
</section>
	<section id="flixita-page" class="Flixita-page st-py-default">
	<div class="container">
		<div class="row gy-lg-0 gy-5 wow fadeInUp" style="visibility: visible; animation-name: fadeInUp;">
								
					<div class="col-lg-8">	
						
				
<figure class="wp-block-image size-full"><img fetchpriority="high" decoding="async" width="1024" height="1024" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/issledovanija-v-oblasti-upravlenija-proektami-i-optimizacii-biznes-processov.png" alt="" class="wp-image-27" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/issledovanija-v-oblasti-upravlenija-proektami-i-optimizacii-biznes-processov.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/issledovanija-v-oblasti-upravlenija-proektami-i-optimizacii-biznes-processov-300x300.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/issledovanija-v-oblasti-upravlenija-proektami-i-optimizacii-biznes-processov-150x150.png 150w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/issledovanija-v-oblasti-upravlenija-proektami-i-optimizacii-biznes-processov-768x768.png 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Мне нужно по проекту поднять три виртуальные машины в Yandex Cloud, операционные системы Ubuntu на базе дистрибутива Linux </p>



<figure class="wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-1 is-layout-flex wp-block-gallery-is-layout-flex">
<figure class="wp-block-image size-large"><img decoding="async" width="799" height="1024" data-id="60" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Сервер-1-799x1024.png" alt="" class="wp-image-60" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-1-799x1024.png 799w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-1-234x300.png 234w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-1-768x984.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-1.png 863w" sizes="(max-width: 799px) 100vw, 799px"><figcaption class="wp-element-caption"><kbd><mark style="background-color:#000000" class="has-inline-color has-white-color">Server1-51.250.35.90</mark></kbd></figcaption></figure>



<figure class="wp-block-image size-large"><img decoding="async" width="796" height="1024" data-id="59" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Сервер-2-796x1024.png" alt="" class="wp-image-59" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-2-796x1024.png 796w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-2-233x300.png 233w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-2-768x988.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-2.png 857w" sizes="(max-width: 796px) 100vw, 796px"><figcaption class="wp-element-caption"><strong><mark style="background-color:#000000" class="has-inline-color has-white-color">Server2- 51.250.34.42</mark></strong></figcaption></figure>
</figure>



<figure class="wp-block-image size-large is-resized"><img loading="lazy" decoding="async" width="803" height="1024" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Сервер-3-1-803x1024.png" alt="" class="wp-image-63" style="width:840px;height:auto" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-3-1-803x1024.png 803w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-3-1-235x300.png 235w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-3-1-768x979.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-3-1.png 862w" sizes="auto, (max-width: 803px) 100vw, 803px"><figcaption class="wp-element-caption"><mark style="background-color:#000000" class="has-inline-color has-white-color">Server3-51.250.45.63</mark></figcaption></figure>



<p>Установка программ по серверам</p>



<p class="has-black-color has-text-color has-link-color wp-elements-ebca4f64b65b4e95b681202791759108">На 1-й сервер вам нужно установить Zabbix-server, Grafana, Ansible, Filebeat, OpenVPN-server</p>



<p>На 2-й сервер вам нужно будет установить Nginx, Apache, PHP, Zabbix-agent, Bind, Mail, Filebeat. Pgadmin</p>



<p class="has-black-color has-text-color has-link-color wp-elements-3593b132f4ad5ca8529c11068fa6af75">На 3-й сервер — PostgreSQL-12, Zabbix-agent, ELК</p>



<p>Ну начнем: </p>



<p>На первом сервере 51.250.35.90 установим Zabbix-server. Воспользуемся мы официальным сайтом по установки Zabbix <a href="https://www.zabbix.com/ru">https://www.zabbix.com/ru</a></p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-1 wp-block-group-is-layout-flex">
<p class="has-medium-font-size">Запустим новый сеанс оболочки с привилегиями root.</p>



<p>$ sudo -s</p>



<p>Установим репозиторий Zabbix</p>



<p># wget https://repo.zabbix.com/zabbix/6.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_6.0-4+ubuntu20.04_all.deb<br># dpkg -i zabbix-release_6.0-4+ubuntu20.04_all.deb<br># apt update</p>



<p>Установим Zabbix сервер, веб-интерфейс и агент</p>



<p># apt install zabbix-server-mysql zabbix-frontend-php zabbix-nginx-conf zabbix-sql-scripts zabbix-agent</p>



<p>Установим и запустим сервер базы данных.</p>



<p># mysql -uroot -p<br>password<br>mysql&gt; create database zabbix character set utf8mb4 collate utf8mb4_bin;<br>mysql&gt; create user zabbix@localhost identified by ‘password’;<br>mysql&gt; grant all privileges on zabbix.* to zabbix@localhost;<br>mysql&gt; set global log_bin_trust_function_creators = 1;<br>mysql&gt; quit;</p>



<p>На хосте Zabbix сервера импортируем начальную схему и данные.</p>



<p># zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql —default-character-set=utf8mb4 -uzabbix -p zabbix</p>



<p>Выключаем опцию log_bin_trust_function_creators&nbsp;<br>управляет тем, должно ли двоичное ведение журнала доверять создателям хранимых функций</p>



<p># mysql -uroot -p<br>password<br>mysql&gt; set global log_bin_trust_function_creators = 0;<br>mysql&gt; quit;</p>



<p>Настроим базу данных для Zabbix сервера</p>



<p>Отредактируем файл /etc/zabbix/zabbix_server.con</p>



<p>DBPassword=password</p>



<p>Настроим PHP для веб-интерфейса</p>



<p>Отредактируемфайл /etc/zabbix/nginx.conf раскомментируйте и настройте директивы ‘listen’ и ‘server_name’.</p>



<p># listen 8080;<br># server_name example.com;</p>



<p>Запустим процессы Zabbix сервера и агента и настроем их запуск при загрузке ОС</p>



<p># systemctl restart zabbix-server zabbix-agent nginx php7.4-fpm<br># systemctl enable zabbix-server zabbix-agent nginx php7.4-fpm</p>



<p>Заходим на созданную нами Web страницу и вводим данные</p>



<p>http://51.250.35.90/index.php</p>
</div>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-2 wp-block-group-is-layout-flex">
<p class="has-medium-font-size"><strong>А теперь давайте приступим к установке&nbsp;<em>Grafana</em>&nbsp;и необходимого плагина.</strong> </p>



<p>Для начала нам нужно добавить репозиторий, из которого будем производить установку (вводим следующие команды):</p>



<p>sudo apt-get install -y apt-transport-https<br>sudo apt-get install -y software-properties-common wget<br>wget -q -O — https://packages.grafana.com/gpg.key | sudo apt-key add —<br>echo «deb https://packages.grafana.com/enterprise/deb stable main» | <br>sudo tee -a /etc/apt/sources.list.d/grafana.list</p>



<p>Следующим шагом обновляем список пакетов:</p>



<p>sudo apt-get update</p>



<p class="has-black-color has-text-color has-link-color wp-elements-dc349f286b355e067c71c0e3aa0745af">Устанавливаем&nbsp;<em>Grafana</em>:</p>



<p>sudo apt-get install grafana</p>



<p class="has-black-color has-text-color has-link-color wp-elements-d4ca2ee8aa7d4e4fc08ca93a69f846c7">После чего устанавливаем сервис&nbsp;<em>grafana-server</em>&nbsp;и добавляем его в автозагрузку, чтобы он запускался как служба при загрузке системы:</p>



<p>sudo systemctl start grafana-server</p>



<p>sudo systemctl enable grafana-server</p>



<p>Далее проверяем, запустился ли наш сервис и перейдем на сайт</p>



<p>sudo systemctl status grafana-server<br>http://51.250.35.90:3000/</p>
</div>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-3 wp-block-group-is-layout-flex">
<p>Установлю Ansible и сразу создам роли и playbook</p>



<p>Для начала обновлю пакеты:</p>



<p>sudo apt update</p>



<p>Установлю&nbsp;<em>software-properties-common</em>, который упрощает работу со сторонними репозиториями:</p>



<p>sudo apt install software-properties-common</p>



<p>Добавьте репозиторий&nbsp;<em>ppa/ansible</em>:</p>



<p>sudo apt-add-repository ppa:ansible/ansible</p>



<p>И, наконец, установлю&nbsp;<em>Ansible</em>:</p>



<p>sudo apt install ansible</p>



<p>Настрою файл Hosts. </p>



<p>Укажу что и на каких серверах будут прокатываться роли</p>



<p>sudo nano /etc/ansible/hosts</p>



<p>[servers]</p>



<p>server2.my ansible_ssh_host=51.250.34.42</p>



<p>server3.my ansible_ssh_host=51.250.45.63<br>[apache]<br>server2.my ansible_ssh_host=51.250.34.42<br>[nginx]<br>server2.my ansible_ssh_host=51.250.34.42<br>[php]<br>server2.my ansible_ssh_host=51.250.34.42<br>[bind9]<br>server2.my ansible_ssh_host=51.250.34.42<br>Проверим:</p>
</div>



<figure class="wp-block-image size-full is-resized"><img loading="lazy" decoding="async" width="725" height="162" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Ansible.png" alt="" class="wp-image-85" style="width:840px;height:auto" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Ansible.png 725w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Ansible-300x67.png 300w" sizes="auto, (max-width: 725px) 100vw, 725px"></figure>



<p><strong><em>Создадим папку playbook и напишем роли, с ними можете ознакомиться на моем Github <a href="https://github.com/IBupTyo3I/project">https://github.com/IBupTyo3I/project</a></em></strong></p>



<p>Следующим нашим шагом будет установка OpenVPN и связка сервера с клиентами</p>



<p>Конфиг сервера:</p>



<figure class="wp-block-image size-full"><img loading="lazy" decoding="async" width="449" height="320" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/servervpn-1.png" alt="" class="wp-image-88" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/servervpn-1.png 449w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/servervpn-1-300x214.png 300w" sizes="auto, (max-width: 449px) 100vw, 449px"><figcaption class="wp-element-caption"><strong><em>Server1-51.250.35.90</em></strong></figcaption></figure>



<p>Конфиг клиента: web и zabbix</p>



<figure class="wp-block-image size-full is-resized"><img loading="lazy" decoding="async" width="442" height="274" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/web-1.png" alt="" class="wp-image-91" style="width:487px;height:auto" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/web-1.png 442w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/web-1-300x186.png 300w" sizes="auto, (max-width: 442px) 100vw, 442px"><figcaption class="wp-element-caption"><strong><em>Server2- 51.250.34.42</em></strong></figcaption></figure>



<figure class="wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-2 is-layout-flex wp-block-gallery-is-layout-flex">
<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="461" height="194" data-id="89" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/zabbix-1.png" alt="" class="wp-image-89" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/zabbix-1.png 461w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/zabbix-1-300x126.png 300w" sizes="auto, (max-width: 461px) 100vw, 461px"></figure>
</figure>



<p><strong><em>Server3-51.250.45.63</em></strong></p>



<p>Разумеется без чувствительной информации со стороны сертификатов </p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-4 wp-block-group-is-layout-flex">
<p>Процесс установки и настройки</p>



<p>apt update &amp;&amp; apt upgrade -y</p>



<p>sudo apt install openvpn easy-rsa -y<br>sudo mkdir /etc/openvpn/easy-rsa<br>sudo cp -R /usr/share/easy-rsa /etc/openvpn/<br>cd /etc/openvpn/easy-rsa/ &amp;&amp; sudo ./easyrsa init-pki</p>



<p>cd /etc/openvpn/easy-rsa/ &amp;&amp; sudo ./easyrsa build-ca<br>Common Name (eg: your user, host, or server name) [Easy-RSA CA]:skillservervpn</p>



<p>cd /etc/openvpn/easy-rsa/ &amp;&amp; sudo ./easyrsa gen-dh<br>cd /etc/openvpn/easy-rsa/ &amp;&amp; sudo ./easyrsa build-server-full servervpn nopass</p>



<p>cp /etc/openvpn/easy-rsa/pki/dh.pem /etc/openvpn/<br>cp /etc/openvpn/easy-rsa/pki/issued/servervpn.crt /etc/openvpn/<br>cp /etc/openvpn/easy-rsa/pki/private/servervpn.key /etc/openvpn/<br>cp /etc/openvpn/easy-rsa/pki/ca.crt /etc/openvpn/</p>



<p>cp /etc/openvpn/dh.pem /etc/openvpn/easy-rsa/pki/<br>cp /etc/openvpn/servervpn.key /etc/openvpn/easy-rsa/pki/private/<br>cp /etc/openvpn/ca.crt /etc/openvpn/easy-rsa/pki/</p>



<p>systemctl restart openvpn@servervpn<br>systemctl enable openvpn@servervpn</p>



<p>echo net.ipv4.ip_forward=1 &gt;&gt; /etc/sysctl.confsysctl -p</p>



<p>sudo ufw allow 1194/udp<br>sudo ufw allow 1194/tcp</p>



<p>vim /etc/ufw/before.rules<br># don’t delete the ‘COMMIT’ line or these rules won’t be processed<br>COMMIT<br>+# START OPENVPN RULES<br>+# NAT table rules<br>+*nat<br>+:POSTROUTING ACCEPT [0:0]<br>+# Allow traffic from OpenVPN client to eth0<br>+-A POSTROUTING -s 10.0.0.0/24 -o eth0 -j MASQUERADE<br>+COMMIT<br>+# END OPENVPN RULES</p>



<p>sed -i ‘s/DROP/ACCEPT/’ /etc/default/ufw</p>



<p>sudo ufw enable</p>



<p>cd /etc/openvpn/easy-rsa/ &amp;&amp; sudo ./easyrsa build-client-full clientvpn nopass</p>



<p>sudo mkdir -p /etc/openvpn/clients/clientvpn</p>



<p>cp /etc/openvpn/easy-rsa/pki/ca.crt /etc/openvpn/clients/clientvpn/<br>cp /etc/openvpn/easy-rsa/pki/issued/clientvpn.crt /etc/openvpn/clients/clientvpn/<br>cp /etc/openvpn/easy-rsa/pki/private/clientvpn.key /etc/openvpn/clients/clientvpn/</p>



<p>cat /etc/openvpn/clients/clientvpn/ca.crt &gt;&gt; /etc/openvpn/clients/clientvpn.conf<br>echo \ &gt;&gt; /etc/openvpn/clients/clientvpn.conf<br>echo \ &gt;&gt; /etc/openvpn/clients/clientvpn.conf<br>cat /etc/openvpn/clients/clientvpn/clientvpn.crt &gt;&gt; /etc/openvpn/clients/clientvpn.conf<br>echo \&lt;\/cert&gt; &gt;&gt; /etc/openvpn/clients/clientvpn.conf<br>echo \ &gt;&gt; /etc/openvpn/clients/clientvpn.conf<br>cat /etc/openvpn/clients/clientvpn/clientvpn.key &gt;&gt; /etc/openvpn/clients/clientvpn.conf<br>echo \&lt;\/key&gt; &gt;&gt; /etc/openvpn/clients/clientvpn.conf</p>



<p>Настройки на стороне клиента</p>



<p>apt update &amp;&amp; apt upgrade -y</p>



<p>sudo apt install openvpn -y</p>



<p>копируем настройки конфигов с сервера: Web и Zabbix</p>



<p>sudo openvpn /etc/openvpn/servervpn.conf<br>openvpn /etc/openvpn/web.conf &amp;<br>openvpn /etc/openvpn/zabbix.conf &amp;</p>
</div>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="439" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Сервер-VPN-сервер-1-1-1-1024x439.png" alt="" class="wp-image-95" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-VPN-сервер-1-1-1-1024x439.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-VPN-сервер-1-1-1-300x129.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-VPN-сервер-1-1-1-768x329.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-VPN-сервер-1-1-1-1536x659.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Сервер-VPN-сервер-1-1-1.png 1784w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="438" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Клиент-VPN-сервер-2-1-1024x438.png" alt="" class="wp-image-96" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Клиент-VPN-сервер-2-1-1024x438.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Клиент-VPN-сервер-2-1-300x128.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Клиент-VPN-сервер-2-1-768x329.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Клиент-VPN-сервер-2-1-1536x658.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Клиент-VPN-сервер-2-1.png 1829w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="398" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Клиент-VPN-сервер-3-1-1024x398.png" alt="" class="wp-image-97" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Клиент-VPN-сервер-3-1-1024x398.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Клиент-VPN-сервер-3-1-300x117.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Клиент-VPN-сервер-3-1-768x298.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Клиент-VPN-сервер-3-1-1536x597.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Клиент-VPN-сервер-3-1.png 1828w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<p><strong><em>Initialization Sequence Completed</em></strong></p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-5 wp-block-group-is-layout-flex">
<p><strong>DNS установлю дистрибутив кэширующий&nbsp;<em>DNS</em></strong></p>



<pre class="wp-block-preformatted">sudo apt install bind9</pre>



<p>Запустим службу:</p>



<p>sudo systemctl start bind9</p>



<p>Включим её автозагрузку, чтобы она была доступна после перезагрузки:</p>



<pre class="wp-block-preformatted">sudo systemctl enable named<br>И произведем настройку в myzones</pre>
</div>



<figure class="wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-3 is-layout-flex wp-block-gallery-is-layout-flex">
<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="596" data-id="131" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/DNS-1-1024x596.png" alt="" class="wp-image-131" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/DNS-1-1024x596.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/DNS-1-300x175.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/DNS-1-768x447.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/DNS-1.png 1036w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>
</figure>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="527" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/DNS-2-1-1024x527.png" alt="" class="wp-image-133" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/DNS-2-1-1024x527.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/DNS-2-1-300x154.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/DNS-2-1-768x395.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/DNS-2-1.png 1063w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<p class="has-medium-font-size"><strong>Поднимаю свой сайт с <strong>reverse proxy</strong>, почту, антиспам и антивирус на втором сервере 51.250.34.42</strong></p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-8 wp-block-group-is-layout-flex">
<p>Устанавливаем MySQL</p>



<p>sudo apt install mysql-server mysql-client -yПодключаемся к MySQL, добавляем базу и пользователя для WordPress.</p>



<p>sudo mysql</p>



<p>mysql&gt; CREATE DATABASE wordpress DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;</p>



<p>mysql&gt; CREATE USER ‘wordpressuser’@’localhost’ IDENTIFIED BY ‘password’;</p>



<p>mysql&gt; GRANT ALL ON wordpress.* TO ‘wordpressuser’@’localhost’;</p>



<p>mysql&gt; FLUSH PRIVILEGES;</p>



<p>Установка WordPress</p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-7 wp-block-group-is-layout-flex">
<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-6 wp-block-group-is-layout-flex">
<p>Устанавливаем WordPress и необходимые для него пакеты.</p>



<p>sudo apt install wordpress apache2 php libapache2-mod-php php-mysql php-curl php-gd php-mbstring php-xml php-xmlrpc php-soap php-intl php-zip -y</p>



<p>Разрешаем rewrite модуль в apache.</p>



<p>sudo a2enmod rewrite</p>



<p>Перегружаем apache и проверяем, что модуль rewrite включен.</p>



<p>sudo systemctl restart apache2</p>



<p>apachectl -M | grep -i rewrite_module</p>



<p>Добавление сайта&nbsp;WordPress</p>



<p>Создаём сайт в apache.</p>



<p><em>sudo bash -c ‘cat &gt; /etc/apache2/sites-available/wordpress.conf &lt;&lt;EOF</em></p>



<p>Alias /blog /usr/share/wordpress</p>



<p>&lt;Directory /usr/share/wordpress&gt;</p>



<p>Options&nbsp;FollowSymLinks</p>



<p>AllowOverride&nbsp;All</p>



<p>DirectoryIndex&nbsp;index.php</p>



<p>Order&nbsp;allow,deny</p>



<p>Allow&nbsp;from&nbsp;all</p>



<p>&lt;/Directory&gt;</p>



<p>&lt;Directory&nbsp;/usr/share/wordpress/wp-content&gt;</p>



<p>Options&nbsp;FollowSymLinks</p>



<p>Order&nbsp;allow,deny</p>



<p>Allow&nbsp;from&nbsp;all</p>



<p>&lt;/Directory&gt;</p>



<p><em>EOF’</em></p>



<p>Добавляем его в активную конфигурацию.</p>



<p>sudo ln -s /etc/apache2/sites-available/wordpress.conf /etc/apache2/sites-enabled/wordpress.conf</p>



<p>Добавляем конфигурацию для WordPress.</p>



<p>sudo cp /usr/share/wordpress/wp-config-sample.php /etc/wordpress/config-default.php</p>



<p>Подключение базу данных.</p>



<p>sudo sed -i ‘s/database_name_here/wordpress/’ /etc/wordpress/config-default.php</p>



<p>sudo sed -i ‘s/username_here/wordpressuser/’ /etc/wordpress/config-default.php</p>



<p>sudo sed -i ‘s/password_here/password/’ /etc/wordpress/config-default.php</p>



<p>sudo sed -i ‘s/define( .DB_COLLATE., .. );/define( \x27DB_COLLATE\x27, \x27utf8_unicode_ci\x27 );/’ /etc/wordpress/config-default.php</p>
</div>
</div>
</div>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="541" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/scale_1200-1024x541.png" alt="" class="wp-image-100" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/scale_1200-1024x541.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/scale_1200-300x159.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/scale_1200-768x406.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/scale_1200.png 1200w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-13 wp-block-group-is-layout-flex">
<p>Перегружаю apache.</p>



<p>sudo systemctl restart apache2</p>



<p>Для корректной работы WordPress нужны права на редактирования его файлов.</p>



<p>sudo chown www-data:www-data -R /usr/share/wordpress</p>



<p>sudo find /usr/share/wordpress -type d -exec chmod 755 {} \;</p>



<p>sudo find /usr/share/wordpress -type f -exec chmod 644 {} \;</p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-12 wp-block-group-is-layout-flex">
<h3 class="wp-block-heading" id="menyaem_adres_saiita_wordpress_s_ip_na_hos"><strong>Меняем адрес сайта WordPress с ИП на хост.</strong></h3>



<p>Меняем /blog на нормальный хост http://www.51.250.34.42.nip.io.</p>



<p>Создаём резервную копию базы данных.</p>



<p>sudo mysqldump wordpress &gt; wordpress.sql</p>



<p>cp wordpress.sql wordpress_org.sql</p>



<p>Если nginx вы установили на другом сервера, а него другой ИП адрес, то вы можете сразу поменять и ИП.</p>



<p>sed -i ‘s/http:..51.250.34.42.blog/http:\/\/www.51.250.34.42.nip.io/g’ wordpress.sql</p>



<p>Перезаливаем базу.</p>



<p>sudo mysql wordpress &lt; wordpress.sql</p>



<p>Создаём сайт в apache</p>



<p><em>sudo bash -c ‘cat &gt; /etc/apache2/sites-available/www.51.250.34.42.nip.io.conf &lt;&lt;EOF</em></p>



<p>&lt;VirtualHost&nbsp;*:80&gt;</p>



<p>ServerName&nbsp;www.51.250.34.42.nip.io</p>



<p>ServerAlias&nbsp;51.250.34.42.nip.io&nbsp;<em>mail.51.250.34.42.nip.io</em></p>



<p>ServerAdmin&nbsp;admin@localhost</p>



<p>DocumentRoot&nbsp;/usr/share/wordpress</p>



<p>ErrorLog&nbsp;\${APACHE_LOG_DIR}/www.51.250.34.42.nip.io_error.log</p>



<p>CustomLog&nbsp;\${APACHE_LOG_DIR}/www.51.250.34.42.nip.io_access.log&nbsp;combined</p>



<p>&lt;Directory&nbsp;/usr/share/wordpress&gt;</p>



<p>Options&nbsp;FollowSymLinks</p>



<p>AllowOverride&nbsp;All</p>



<p>DirectoryIndex&nbsp;index.php</p>



<p>Order&nbsp;allow,deny</p>



<p>Allow&nbsp;from&nbsp;all</p>



<p>&lt;/Directory&gt;</p>



<p>&lt;Directory&nbsp;/usr/share/wordpress/wp-content&gt;</p>



<p>Options&nbsp;FollowSymLinks</p>



<p>Order&nbsp;allow,deny</p>



<p>Allow&nbsp;from&nbsp;all</p>



<p>&lt;/Directory&gt;</p>



<p>&lt;/VirtualHost&gt;</p>



<p><em>EOF’</em></p>



<p>Удаляем старый сайт</p>



<p>sudo unlink /etc/apache2/sites-enabled/wordpress.conf</p>



<p>Добавляем новый</p>



<p>sudo ln -s /etc/apache2/sites-available/www.51.250.34.42.nip.io.conf /etc/apache2/sites-enabled/www.51.250.34.42.nip.io.conf</p>



<p>Перегружаем apache</p>



<p>Sudo systemctl restart apache2</p>



<p>Можем посмотреть логи, если что-то пошло не так.</p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-11 wp-block-group-is-layout-flex">
<p>sudo bash -c «tail -f /var/log/apache2/www.51.250.34.42.nip.io_*»</p>



<p>Подключаем сертификат ssl</p>



<p>Разрешаем ssl модуль в&nbsp;<em>apache.</em></p>



<p>sudo a2enmod ssl</p>



<p>Перегружаем&nbsp;<em>apache.</em></p>



<p>sudo systemctl restart apache2</p>



<p>Для получения бесплатного ssl сертификата от Let’s Encrypt, установим репозиторий.</p>



<p>sudo add-apt-repository ppa:certbot/certbot</p>



<p>Установим пакет certbot</p>



<p>sudo apt install certbot python3-certbot-apache -y</p>



<p>Получим ssl сертификат на хосты www.51.250.34.42.nip.io, 51.250.34.42.nip.io и mail.51.250.34.42.nip.io</p>



<p>sudo certbot —apache -d www.51.250.34.42.nip.io -d 51.250.34.42.nip.io -d mail.51.250.34.42.nip.io</p>



<p>Enter email address (used for urgent renewal and security notices) (Enter ‘c’ to</p>



<p>cancel): my@email.com</p>



<p>— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —</p>



<p>(A)gree/(C)ancel: A</p>



<p>— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —</p>



<p>(Y)es/(N)o: N</p>



<p>— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —</p>



<p>1: No redirect — Make no further changes to the webserver configuration.</p>



<p>2: Redirect — Make all requests redirect to secure HTTPS access.</p>



<p>Select the appropriate number [1-2] then [enter] (press ‘c’ to cancel): 1</p>



<p>— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —</p>



<p>Congratulations! You have successfully enabled https://www.51.250.34.42.nip.io,</p>



<p>https://51.250.34.42.nip.io, and https://mail.51.250.34.42.nip.io</p>



<p>— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —</p>



<h3 class="wp-block-heading" id="podgotavlivaem_apache_dlya_rabot_s_nginx"><strong>Подготавливаем apache для работы с nginx</strong></h3>



<p>Так как мы будем использовать один сервер, то поменям порты в apache, что бы не было конфликтов с nginx.</p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-10 wp-block-group-is-layout-flex">
<p>Меняем порты для сайта на http.</p>



<p>sudo sed -i ‘s/:80/:8080/’ /etc/apache2/sites-available/www.51.250.34.42.nip.io.conf</p>



<p>Меняем порты для сайта на https.</p>



<p>sudo sed -i ‘s/:443/:8081/’ /etc/apache2/sites-available/www.51.250.34.42.nip.io-le-ssl.conf</p>



<p>Удаляем сайт по умолчанию.</p>



<p>sudo unlink /etc/apache2/sites-enabled/000-default.conf</p>



<p>Меняем порты в apache.</p>



<p>sudo sed -i ‘s/Listen 80/Listen 8080/’ /etc/apache2/ports.conf</p>



<p>sudo sed -i ‘s/Listen 443/Listen 8081/’ /etc/apache2/ports.conf</p>



<p>Перегружаем apache.</p>



<p>sudo systemctl restart apache2</p>



<h3 class="wp-block-heading" id="dobavlyaem_nginx_kak_reverse_proxy_dlya_wo"><strong>Добавляем nginx как reverse proxy для WordPress</strong></h3>



<p>Устанавливаем nginx</p>



<p>sudo apt install nginx -y</p>



<p>Создаём новый сайт по умолчанию и перенаправляем весь трафик на apache.</p>



<p>sudo bash -c ‘cat &gt; /etc/nginx/sites-enabled/default &lt;&lt;EOF</p>



<p>server&nbsp;{</p>



<p>listen&nbsp;80&nbsp;default_server;</p>



<p>server_name&nbsp;_;</p>



<p>location&nbsp;/&nbsp;{</p>



<p>proxy_pass&nbsp;http://127.0.0.1:8080;</p>



<p>proxy_set_header&nbsp;Host&nbsp;\$host;</p>



<p>proxy_set_header&nbsp;X-Real-IP&nbsp;\$remote_addr;</p>



<p>proxy_set_header&nbsp;X-Forwarded-Host&nbsp;\$host;</p>



<p>proxy_set_header&nbsp;X-Forwarded-Server&nbsp;\$host;</p>



<p>proxy_set_header&nbsp;X-Forwarded-For&nbsp;\$proxy_add_x_forwarded_for;</p>



<p>proxy_set_header&nbsp;X-Forwarded-Proto&nbsp;\$scheme;</p>



<p>proxy_set_header&nbsp;X-Server-Address&nbsp;&nbsp;\$server_addr;</p>



<p>&nbsp;}</p>



<p>}</p>



<p>EOF’</p>



<p>Перегружаем nginx</p>



<p>sudo systemctl restart nginx</p>



<p>Добавляем https.</p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-9 wp-block-group-is-layout-flex">
<p>sudo bash -c ‘cat &gt;&gt; /etc/nginx/sites-enabled/default &lt;&lt;EOF</p>



<p>server&nbsp;{</p>



<p>&nbsp;listen&nbsp;443&nbsp;ssl&nbsp;default_server;</p>



<p>&nbsp;server_name&nbsp;_;</p>



<p>ssl_certificate&nbsp;/etc/letsencrypt/live/<a href="https://www.51.250.34.42.nip.io/">www.51.250.34.42.nip.io</a>/fullchain.pem;</p>



<p>ssl_certificate_key&nbsp;/etc/letsencrypt/live/<a href="https://www.51.250.34.42.nip.io/">www.51.250.34.42.nip.io</a>/privkey.pem;</p>



<p>location&nbsp;/&nbsp;{</p>



<p>proxy_pass&nbsp;https://127.0.0.1:8081;</p>



<p>proxy_set_header&nbsp;Host&nbsp;\$host;</p>



<p>proxy_set_header&nbsp;X-Real-IP&nbsp;\$remote_addr;</p>



<p>proxy_set_header&nbsp;X-Forwarded-Host&nbsp;\$host;</p>



<p>proxy_set_header&nbsp;X-Forwarded-Server&nbsp;\$host;</p>



<p>proxy_set_header&nbsp;X-Forwarded-For&nbsp;\$proxy_add_x_forwarded_for;</p>



<p>&nbsp;proxy_set_header&nbsp;X-Forwarded-Proto&nbsp;\$scheme;</p>



<p>proxy_set_header&nbsp;X-Server-Address&nbsp;&nbsp;\$server_addr;</p>



<p>}</p>



<p>}</p>



<p>EOF’</p>



<p>Перегружаем nginx</p>



<p>sudo systemctl restart nginx</p>



<p>Проверяем сайт на https <a href="https://www.51.250.34.42.nip.io/">https://www.51.250.34.42.nip.io/</a>&nbsp;</p>
</div>
</div>
</div>



<p>Можно теперь подключится и залогиниться как admin</p>
</div>



<p><a href="https://www.51.250.34.42.nip.io/">https://www.51.250.34.42.nip.io/</a></p>



<p>Подключить нужные модули <em>Backup</em> и выбрать тему!</p>



<p>И сайт готов!</p>
</div>



<p><strong>Приступаю к установки пака программ для хорошей работы EMAIL</strong></p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-14 wp-block-group-is-layout-flex">
<h3 class="wp-block-heading" id="postfix"><strong>Postfix</strong></h3>



<p>Запустим установку Postfix</p>



<p>sudo apt-get install postfix -y</p>



<p>Сначала выбираем&nbsp;<em>Internet Site.</em></p>



<p>Потом вписываем наш хост с ИП, которое мы посмотрели ранее</p>



<p>51.250.34.42.nip.io</p>
</div>



<h3 class="wp-block-heading" id="nastroiika_postfix">Настройка postfix</h3>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-15 wp-block-group-is-layout-flex">
<p>Поменяем локальные домены&nbsp;<em>mydestination</em></p>



<p>sudo sed -i ‘s/^mydestination = .*/mydestination = localhost.$mydomain, localhost/’ /etc/postfix/main.cf</p>



<p>Добавим в конец настройки авторизации и доставку почты через dovecot.</p>



<p>sudo bash -c ‘cat &gt;&gt; /etc/postfix/main.cf &lt;&lt;EOF</p>



<p>smtpd_sasl_auth_enable = yes</p>



<p>smtpd_sasl_type = dovecot</p>



<p>smtpd_sasl_path = private/auth</p>



<p>virtual_transport = lmtp:unix:private/dovecot-lmtp</p>



<p>virtual_mailbox_domains = /etc/postfix/virtual_mailbox_domains</p>



<p>EOF’</p>



<p>Добавим наш домен&nbsp;<em>51.250.34.42.nip.io</em></p>



<p>sudo bash -c ‘echo «51.250.34.42.nip.io ok» &gt; /etc/postfix/virtual_mailbox_domains’</p>



<p>sudo postmap /etc/postfix/virtual_mailbox_domains</p>



<p>Раскомментируем&nbsp;<em>submission</em>&nbsp;для приёма писем от почтовых клиентов.</p>



<p>sudo sed -i ‘s/^.submission/submission/’ /etc/postfix/master.cf</p>
</div>



<blockquote class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow">
<blockquote class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow">
<h3 class="wp-block-heading" id="dovecot"><strong>Dovecot</strong></h3>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-16 wp-block-group-is-layout-flex">
<p>Установим dovecot.</p>



<p>sudo apt install -y dovecot-core dovecot-imapd dovecot-pop3d dovecot-lmtpd</p>



<p>Создадим папку для приёма писем.</p>



<p>sudo mkdir -p /var/mail/vhosts/<em>51.250.34.42.nip.io</em></p>



<p>Добавим пользователя vmail и дадим ему права на папки с почтой.</p>



<p>sudo groupadd -g 5000 vmail</p>



<p>sudo useradd -r -g vmail -u 5000 vmail -d /var/mail/vhosts -c «virtual mail user»</p>



<p>sudo chown -R vmail:vmail /var/mail/vhosts/</p>



<p>Поменяем авторизацию с системной на passwdfile.</p>



<p>sudo sed -i ‘/.*auth-system.conf.ext/d’ /etc/dovecot/conf.d/10-auth.conf</p>



<p>sudo sed -i ‘s/^..include auth-passwdfile.conf.ext/!include auth-passwdfile.conf.ext/’ /etc/dovecot/conf.d/10-auth.conf</p>



<p>Разрешим ssl подключения.</p>



<p>sudo sed -i ‘s/.*port = 993/&nbsp;&nbsp;&nbsp;&nbsp;port = 993\n&nbsp;&nbsp;&nbsp;&nbsp;ssl = yes/’ /etc/dovecot/conf.d/10-master.conf</p>



<p>sudo sed -i ‘s/.*port = 995/&nbsp;&nbsp;&nbsp;&nbsp;port = 995\n&nbsp;&nbsp;&nbsp;&nbsp;ssl = yes/’ /etc/dovecot/conf.d/10-master.conf</p>



<p>Меняем доставку почты lmtp на dovecot.</p>



<p>sudo sed -i ‘s/.*unix_listener lmtp.*/&nbsp;&nbsp;unix_listener \/var\/spool\/postfix\/private\/dovecot-lmtp \{\n&nbsp;&nbsp;&nbsp;&nbsp;mode = 0600\n&nbsp;&nbsp;&nbsp;&nbsp;user = postfix\n&nbsp;&nbsp;&nbsp;&nbsp;group = postfix/’ /etc/dovecot/conf.d/10-master.conf</p>



<p>Добавляем smtp авторизацию.</p>



<p>sudo sed -i ‘s/.*Postfix smtp-auth/&nbsp;&nbsp;# Postfix smtp-auth\n&nbsp;&nbsp;unix_listener \/var\/spool\/postfix\/private\/auth \{\n&nbsp;&nbsp;&nbsp;&nbsp;mode = 0666\n&nbsp;&nbsp;&nbsp;&nbsp;user = postfix\n&nbsp;&nbsp;&nbsp;&nbsp;group = postfix\n }/’ /etc/dovecot/conf.d/10-master.conf</p>



<p>Меняем файл схему и формат авторизации.</p>



<p>sudo sed -i ‘s/.*args = scheme.*/&nbsp;&nbsp;args = scheme=PLAIN username_format=%u \/etc\/dovecot\/dovecot-users/’ /etc/dovecot/conf.d/auth-passwdfile.conf.ext</p>



<p>sudo sed -i ‘N;s/userdb.*driver = passwd-file/userdb {\n&nbsp;&nbsp;&nbsp;&nbsp;driver = static/’ /etc/dovecot/conf.d/auth-passwdfile.conf.ext</p>



<p>sudo sed -i ‘s/.*args = username_format.*/&nbsp;&nbsp;&nbsp;&nbsp;args = uid=vmail gid=vmail home=\/var\/mail\/vhosts\/%d\/%n/’ /etc/dovecot/conf.d/auth-passwdfile.conf.ext</p>



<p>Добавляем почтовые ящики.</p>



<p>sudo bash -c ‘cat &gt;&gt; /etc/dovecot/dovecot-users&lt;&lt;EOF</p>



<p>admin@<em>51.250.34.42.nip.io</em> и пароль</p>



<p>info@<em>51.250.34.42.nip.io</em> и пароль</p>



<p>EOF’</p>



<p>Меняем формат почтового ящика на&nbsp;<em>maildir</em>.</p>



<p>sudo sed -i ‘s/^mail_location.*/mail_location = maildir:\/var\/mail\/vhosts\/%d\/%n/’ /etc/dovecot/conf.d/10-mail.conf</p>



<p>Перезапускаем сервисы.</p>



<p>sudo service postfix restart</p>



<p>sudo service dovecot restart</p>



<p>Проверяем подключение.</p>



<p>$ telnet localhost 110</p>



<p>Trying ::1…</p>



<p>Connected to localhost.</p>



<p>Escape character is ‘^]’.</p>



<p>+OK Dovecot (Ubuntu) ready.</p>



<p>user admin@<em>51.250.34.42.nip.io</em></p>



<p>+OK</p>



<p>pass PASSWORD</p>



<p>+OK Logged in.</p>



<p>list</p>



<p>+OK 0 messages:</p>



<p>quit</p>



<p>+OK Logging out.</p>



<p>Connection closed by foreign host.</p>
</div>



<h3 class="wp-block-heading" id="roundcube">Roundcube</h3>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-18 wp-block-group-is-layout-flex">
<p>Устанавливаем Roundcube.</p>



<p>sudo apt install -y mysql-server roundcube</p>



<p>Настраиваем его для работы с базой данных:&nbsp;<em>&lt;Yes&gt;</em></p>



<p>Добавляем&nbsp;<em>Alias&nbsp;</em>для подключения к почте в Apache.</p>



<p>sudo bash -c ‘echo «Alias /mail /usr/share/roundcube» &gt; /etc/apache2/sites-available/030-roundcube.conf’</p>



<p>sudo ln -s /etc/apache2/sites-available/030-roundcube.conf /etc/apache2/sites-enabled/030-roundcube.conf</p>



<p>sudo systemctl restart apache2.service</p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-17 wp-block-group-is-layout-flex">
<h3 class="wp-block-heading" id="clamav"><strong>ClamAV</strong></h3>



<p>Устанавливаем ClamAV.</p>



<p>sudo apt install clamav-daemon clamav clamsmtp -y</p>



<p>Меняем права на папках антивируса.</p>



<p>sudo chown -R clamsmtp:clamsmtp /var/spool/clamsmtp/</p>



<p>sudo chown -R clamsmtp:clamsmtp /var/run/clamsmtp/</p>



<p>Перегружаем clamsmtp</p>



<p>sudo systemctl restart clamsmtp</p>



<p>Добавляем сканирование антивирусом в&nbsp;<em>postfix.</em></p>



<p>sudo bash -c ‘cat &gt;&gt;/etc/postfix/main.cf&lt;&lt;EOF</p>



<p># Virusscanner</p>



<p>content_filter = scan:127.0.0.1:10026</p>



<p>receive_override_options = no_address_mappings</p>



<p>EOF’</p>



<p>sudo bash -c ‘cat &gt;&gt;/etc/postfix/master.cf&lt;&lt;EOF</p>



<p># Antivirus</p>



<p>scan unix — — n — 16 smtp</p>



<p>-o smtp_send_xforward_command=yes</p>



<p># For injecting mail back into postfix from the filter</p>



<p>127.0.0.1:10025 inet n — n — 16 smtpd</p>



<p>o content_filter=</p>



<p>-o receive_override_options=no_unknown_recipient_checks,no_header_body_checks</p>



<p>-o smtpd_helo_restrictions=</p>



<p>-o smtpd_client_restrictions=</p>



<p>-o smtpd_sender_restrictions=</p>



<p>-o smtpd_recipient_restrictions=permit_mynetworks,reject</p>



<p>-o mynetworks_style=host</p>



<p>-o smtpd_authorized_xforward_hosts=127.0.0.0/8</p>



<p>EOF’</p>



<p>sudo systemctl restart postfix</p>



<p>Настраиваем обновление базы вирусов.</p>



<p>sudo sed -i ‘s/^ScriptedUpdates yes/ScriptedUpdates no/’ /etc/clamav/freshclam.conf</p>



<p>sudo sed -i ‘/DatabaseMirror/d’ /etc/clamav/freshclam.conf</p>



<p>sudo bash -c ‘ echo «PrivateMirror https://tendence.ru/clamav» &gt;&gt;/etc/clamav/freshclam.conf’</p>



<p>Скачиваем базы.</p>



<p>sudo -u clamav wget -P /var/lib/clamav/ https://techplanet.pro/clamav/main.cvd</p>



<p>sudo -u clamav wget -P /var/lib/clamav/ https://techplanet.pro/clamav/daily.cvd</p>



<p>sudo -u clamav wget -P /var/lib/clamav/ https://techplanet.pro/clamav/bytecode.cvd</p>



<p>Перегружаем clamav.</p>



<p>sudo systemctl restart clamav-freshclam.service</p>



<p>sudo systemctl restart clamav-daemon</p>



<h3 class="wp-block-heading" id="spamassassin"><strong>SpamAssassin</strong></h3>



<p>Устанавливаем SpamAssassin.</p>



<p>sudo apt install -y spamassassin spamc</p>



<p>Добавляем пользователя&nbsp;<em>spamd</em>.</p>



<p>sudo groupadd -g 5001 spamd</p>



<p>sudo useradd -u 5001 -g spamd -s /sbin/nologin -d /var/lib/spamassassin spamd</p>



<p>Создаём папку для SpamAssassin.</p>



<p>sudo mkdir /var/lib/spamassassin</p>



<p>sudo chown -R spamd:spamd /var/lib/spamassassin</p>



<p>Настраиваем SpamAssassin.</p>



<p>sudo sed -i ‘s/^OPTIONS=.*/OPTIONS=»—create-prefs —max-children 5 —username spamd —helper-home-dir \/var\/lib\/spamassassin\/ -s \/var\/lib\/spamassassin\/spamd.log»/’ /etc/default/spamassassin</p>



<p>sudo sed -i ‘s/^PIDFILE=.*/PIDFILE=»\/var\/lib\/spamassassin\/spamd.pid»/’ /etc/default/spamassassin</p>



<p>sudo sed -i ‘s/^CRON=.*/CRON=1/’ /etc/default/spamassassin</p>



<p>sudo sed -i ‘s/^. report_safe.*/report_safe 0/’ /etc/spamassassin/local.cf</p>



<p>sudo sed -i ‘s/^. use_bayes.*/use_bayes 1/’ /etc/spamassassin/local.cf</p>



<p>sudo sed -i ‘s/^. bayes_auto_learn.*/bayes_auto_learn 1/’ /etc/spamassassin/local.cf</p>



<p>sudo sed -i ‘s/^. bayes_ignore_header/bayes_ignore_header/’ /etc/spamassassin/local.cf</p>



<p>sudo sed -i ‘s/^. rewrite_header.*/rewrite_header Subject [***** SPAM _SCORE_ *****]/’ /etc/spamassassin/local.cf</p>



<p>sudo sed -i ‘s/^. required_score.*/required_score 2.0/’ /etc/spamassassin/local.cf</p>



<p>sudo sed -i ‘s/^. required_score.*/required_score 2.0\nuse_bayes_rules 1\nskip_rbl_checks 0\nuse_razor2 0\nuse_dcc 0\nuse_pyzor 0/’ /etc/spamassassin/local.cf</p>



<p>Запускаем и ставим в автозагрузку.</p>



<p>sudo systemctl enable spamassassin.service</p>



<p>sudo systemctl restart spamassassin</p>



<p>Добавляем проверку на спам в postfix.</p>



<p>sudo sed -i ‘s/^\Wsmtp .*/ -o content_filter=spamassassin:dummy/’ /etc/postfix/master.cf</p>



<p>sudo bash -c ‘cat &gt;&gt; /etc/postfix/master.cf &lt;&lt;EOF</p>



<p># SpamAssassin</p>



<p>spamassassin unix — n n — — pipe</p>



<p>flags=DROhu user=spamd argv=/usr/bin/spamc -f -e /usr/sbin/sendmail -oi -f \${sender} \${recipient}</p>



<p>EOF’</p>



<p>Обновляем правила SpamAssassin.</p>



<p>sudo sa-update</p>



<p>Перегружаем сервисы.</p>



<p>sudo systemctl restart spamassassin</p>



<p>sudo systemctl restart postfix</p>



<p>Проверяем работу спам фильтра обязательно с внешнего почтового сервера. Отправляем почту:</p>



<p>Кому: admin@51.250.34.42.nip.io</p>



<p>Тема: тест спама</p>



<p>Сообщение: XJS*C4JDBQADN1.NSBN3*2IDNEN*GTUBE-STANDARD-ANTI-UBE-TEST-EMAIL*C.34X</p>
</div>
</div>
</blockquote>
</blockquote>



<figure class="wp-block-image size-full is-resized"><img loading="lazy" decoding="async" width="673" height="165" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Спам.png" alt="" class="wp-image-102" style="width:489px;height:auto" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Спам.png 673w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Спам-300x74.png 300w" sizes="auto, (max-width: 673px) 100vw, 673px"></figure>



<p>Всё в порядке. X-Spam-Flag: YES и X-Spam-Status: Yes, score=999.8</p>



<p><strong>Устанавливаем Pgadmin и PostgreSQL</strong></p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-19 wp-block-group-is-layout-flex">
<p>curl https://www.pgadmin.org/static/packages_pgadmin_org.pub | sudo apt-key add</p>



<p>sudo sh -c ‘echo «deb https://ftp.postgresql.org/pub/pgadmin/pgadmin4/apt/$(lsb_release -cs) pgadmin4 main» &gt; /etc/apt/sources.list.d/pgadmin4.list &amp;&amp; apt update’</p>



<p>sudo apt install pgadmin4 -y<br>sudo /usr/pgadmin4/bin/setup-web.sh</p>



<p>На&nbsp;<a href="https://lms.skillfactory.ru/courses/course-v1:SkillFactory+ADMIN+2020/courseware/7350392a803c48a0a80d8b11f30a1e96/05ad7246a63b4790ab0ebfdeae341ea5/2?activate_block_id=block-v1%3ASkillFactory%2BADMIN%2B2020%2Btype%40vertical%2Bblock%409aa5ff38f6e84d35b1668ab4f1877df9" target="_blank" rel="noreferrer noopener">PostgreSQL</a>&nbsp;вам создаю копию тестовой базы с именем&nbsp;<em>dbname_fortests</em>&nbsp;с очищенными таблицами (но сохранением структуры)&nbsp;<em>boarding_passes</em>,&nbsp;<em>Bookings</em>.</p>



<p>Выгружаем все в Pgadmin и сверяем, корректируем.</p>
</div>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="602" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Pgadminboardingpassesочищена-таблица-1-1024x602.png" alt="" class="wp-image-116" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminboardingpassesочищена-таблица-1-1024x602.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminboardingpassesочищена-таблица-1-300x176.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminboardingpassesочищена-таблица-1-768x451.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminboardingpassesочищена-таблица-1-1536x902.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminboardingpassesочищена-таблица-1.png 1915w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<div class="wp-block-file"><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminboardingpasses%D0%BE%D1%87%D0%B8%D1%89%D0%B5%D0%BD%D0%B0-%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0-1024x602.png">Pgadmin(boardingpasses)очищена таблица</a><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminboardingpasses%D0%BE%D1%87%D0%B8%D1%89%D0%B5%D0%BD%D0%B0-%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0-1024x602.png" class="wp-block-file__button wp-element-button" download="">Скачать</a></div>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="655" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Pgadminbookingsочищена-таблица-1-1024x655.png" alt="" class="wp-image-117" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminbookingsочищена-таблица-1-1024x655.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminbookingsочищена-таблица-1-300x192.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminbookingsочищена-таблица-1-768x491.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminbookingsочищена-таблица-1-1536x983.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminbookingsочищена-таблица-1.png 1741w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<div class="wp-block-file"><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminbookings%D0%BE%D1%87%D0%B8%D1%89%D0%B5%D0%BD%D0%B0-%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0-1024x655.png">Pgadmin(bookings)очищена таблица</a><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Pgadminbookings%D0%BE%D1%87%D0%B8%D1%89%D0%B5%D0%BD%D0%B0-%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0-1024x655.png" class="wp-block-file__button wp-element-button" download="">Скачать</a></div>



<p>Устанавливаем связку ELK и выводим мониторинг в Kibana</p>



<div class="wp-block-group is-vertical is-layout-flex wp-container-core-group-is-layout-20 wp-block-group-is-layout-flex">
<p>sudo apt update -y &amp;&amp; sudo apt upgrade -y<br>sudo apt install net-tools -y<br>sudo ufw allow in 1278/udp</p>



<p>Настройка Syslog</p>



<p>sudo vi /etc/rsyslog.conf</p>



<p>открываем следующие строки, блок MODULES</p>



<p>module(load=»imudp»)<br>input(type=»imudp» port=»514″)</p>



<p>module(load=»imtcp»)<br>input(type=»imtcp» port=»514″)</p>



<p>sudo ufw allow in 514/udp</p>



<p>sudo systemctl daemon-reload<br>sudo systemctl enable rsyslog.service<br>sudo systemctl start rsyslog.service<br>sudo systemctl status rsyslog.service</p>



<p>sudo apt-get install apt-transport-https openjdk-11-jre-headless uuid-runtime pwgen</p>



<p>установка стека ELK (без Logstash): 7.17.9</p>



<p>sudo apt-key adv —keyserver hkp://keyserver.ubuntu.com:80 —recv B00A0BD1E2C63C11<br>echo «deb [arch=amd64] http://repo.mongodb.org/apt/ubuntu $(lsb_release -sc)/mongodb-org/5.0 multiverse» | sudo tee /etc/apt/sources.list.d/mongodb-org.list<br>sudo apt-get update<br>sudo apt-get install -y mongodb-org</p>



<p>добавим mongodb в автозагрузку и запустим его с дефолтными настройками:</p>



<p>sudo systemctl daemon-reload<br>sudo systemctl enable mongod.service<br>sudo systemctl start mongod.service<br>sudo systemctl status mongod.service</p>



<p>установка Elasticserch</p>



<ol class="wp-block-list">
<li>Добавляем Зеркало Яндекс:<br>echo «deb [trusted=yes] https://mirror.yandex.ru/mirrors/elastic/7/ stable main» | sudo tee /etc/apt/sources.list.d/elastic-7.x.list</li>



<li>sudo apt update -y<br>Выходит ошибка типа: GPG error: https://mirror.yandex.ru/mirrors/elastic/7 stable InRelease: The following signatures couldn’t be verified because the public key is not available: NO_PUBKEY D27D666CD88E42B4</li>



<li>Копируем ключ из ошибки. и выполняем следующие команды:</li>
</ol>



<p>gpg —keyserver keyserver.ubuntu.com —recv D27D666CD88E42B4</p>



<p>gpg —export —armor D27D666CD88E42B4 | sudo apt-key add —<br>после этих манипуляций все ставится очень просто:<br>sudo apt install default-jdk<br>sudo apt install elasticsearch</p>



<p>sudo apt install filebeat</p>



<p>После этого весь стек elk устанавливается по команде apt install название программы</p>



<p>увеличиваем потребление оперативной памяти до 4Гб</p>



<p>создаём новый файл и вписываем туда две строчки:</p>



<p>sudo vi /etc/elasticsearch/jvm.options.d/xms<br>-Xms4g<br>-Xmx4g</p>



<p>редактируем конфигурационный файл:</p>



<p>sudo vi /etc/elasticsearch/elasticsearch.yml<br>network.host: 0.0.0.0<br>discovery.type: single-node<br>xpack.security.enabled: true<br>xpack.security.transport.ssl.enabled: true</p>



<p>sudo ufw allow in 19532/tcp<br>sudo ufw allow in 80/tcp<br>sudo ufw allow in 5601/tcp<br>netstat -tulpn | grep 5601</p>



<p>добавим elasticsearch в автозагрузку и запустим его с дефолтными настройками:</p>



<p>sudo systemctl daemon-reload<br>sudo systemctl enable elasticsearch.service<br>sudo systemctl restart elasticsearch.service<br>sudo systemctl status elasticsearch.service</p>



<p>проверка работы Elasticsearch</p>



<p>curl -k -X GET «http://localhost:9200/_cluster/health?pretty»</p>



<p>создаем пользователей</p>



<p>sudo -u root /usr/share/elasticsearch/bin/elasticsearch-setup-passwords auto</p>



<p>cохраняем вывод где-нибудь в home</p>



<p>sudo vi password</p>



<p>установка Kibana:</p>



<p>curl https://artifacts.elastic.co/downloads/kibana/kibana-8.14.3-linux-x86_64.tar.gz.sha512 | shasum -a 512 -c -tar -xzf kibana-8.14.3-linux-x86_64.tar.gz</p>



<p>Устанавливаем ключи:</p>



<p>wget -qO — https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add —</p>



<p>Устанавливаем https транспорт для apt.</p>



<p>sudo apt install apt-transport-https</p>



<p>sudo apt update<br>dpkg -i kibana-7.17.8-amd64.deb</p>



<p>теперь нам стоит изменить некоторые настройки kibana в файле конфигурации, предварительно создав его копию:</p>



<p>cp /etc/kibana/kibana.yml /etc/kibana/kibana.yml.bak</p>



<p>Откроем файл конфигурации:</p>



<p>sudo vi /etc/kibana/kibana.yml</p>



<p>server.port: 5601<br>server.host: 0.0.0.0<br>elasticsearch.username: «*******»<br>elasticsearch.password: zbYDXV*****ZhjMdA #сюда добавляем свой пароль<br>xpack.security.enabled: true</p>



<p>Добавьте Kibana в список приложений, запускаемых автоматически:</p>



<p>sudo systemctl enable kibana.service<br>sudo systemctl restart kibana.service<br>sudo systemctl status kibana.service</p>



<p>проверяем работу Kibana</p>



<p>Убедитесь, что Elasticsearh и Kibana использовали нашу сеть:</p>



<p>netstat -tulpn | grep 9200<br>netstat -tulpn | grep 5601</p>



<p>я захожу с пользователем<br>elastic + пароль, который сгенерировали ранее</p>



<p>Теперь настроим клиент</p>



<p>sudo apt update -y &amp;&amp; sudo apt upgrade -y<br>sudo apt install net-tools -y<br>sudo ufw allow in 1278/udp</p>



<p>установка Linux, Nginx, MySQL, PHP (стека LEMP) в Ubuntu 20.04</p>



<p>sudo apt install nginx<br>sudo ufw app list<br>sudo ufw allow ‘Nginx HTTP’<br>sudo apt install mysql-server<br>sudo mysql<br>exit<br>sudo apt install php-fpm php-mysql<br>sudo mkdir /var/www/51.250.34.42.nip.io<br>sudo chown -R $USER:$USER /var/www/51.250.34.42.nip.io<br>sudo vi /etc/nginx/sites-available/51.250.34.42.nip.io<br>server {<br>listen 80;<br>server_name 51.250.34.42.nip.io;</p>



<p>root /var/www/51.250.34.42.nip.io;</p>



<p>index index.html index.htm index.php;</p>



<p>location / {<br>    try_files $uri $uri/ =404;<br>}</p>



<p>location ~ \.php$ {<br>    include snippets/fastcgi-php.conf;<br>    fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;</p>



<p> }</p>



<p>location ~ /\.ht {<br>    deny all;</p>



<p>}</p>



<p>}<br>sudo ln -s /etc/nginx/sites-available/51.250.34.42.nip.io /etc/nginx/sites-enabled/<br>sudo nginx -t<br>vi /var/www/51.250.34.42.nip.io/index.html<br>Добро пожаловать</p>



<p>&lt;p&gt; Добро пожаловать! Это наш сайт. &lt;/strong&gt;&lt;/p&gt;</p>



<p>sudo nginx -t<br>http:/51.250.34.42.nip.io/</p>



<p>sudo systemctl reload nginx</p>



<p>vi /var/www/51.250.34.42.nip.io/info.php<br>&lt;?php<br>phpinfo();</p>



<p>http://51.250.34.42.nip.io/info.php</p>



<p>sudo rm /var/www/51.250.34.42.nip.io/info.php</p>



<p>sudo systemctl reload nginx</p>



<p>sudo mysql</p>



<p>добавляем в mysql по очереди запросы</p>



<p>CREATE DATABASE example_database;<br>CREATE USER ‘example_user’@’%’ IDENTIFIED WITH mysql_native_password BY ‘password’;<br>GRANT ALL ON example_database.* TO ‘example_user’@’%’;<br>exit</p>



<p>mysql -u example_user -p</p>



<p>SHOW DATABASES;</p>



<p>CREATE TABLE example_database.todo_list (<br>item_id INT AUTO_INCREMENT,<br>content VARCHAR(255),<br>PRIMARY KEY(item_id)<br>);</p>



<p>INSERT INTO example_database.todo_list (content) VALUES («My first important item»);<br>SELECT * FROM example_database.todo_list;<br>exit</p>



<p>vi /var/www/51.250.34.42.nip.io/todo_list.php<br>&lt;?php<br>$user = «example_user»;<br>$password = «password»;<br>$database = «example_database»;<br>$table = «todo_list»;</p>



<p>try {<br>$db = new PDO(«mysql:host=localhost;dbname=$database», $user, $password);<br>echo «</p>



<p>TODO</p>



<ol class="wp-block-list">
<li>» . $row[‘content’] . «</li>
</ol>



<p>«;<br>} catch (PDOException $e) {<br>print «Error!: » . $e-&gt;getMessage() . «<br>«;<br>die();<br>}</p>



<p>http://51.250.34.42.nip.io/todo_list.php</p>



<p>мы создали полноценный LEMP сервер, где БД и сайт взаимодействуют</p>



<p>теперь установим filebeat из директории home для передачи логов с Nginx и Mysql</p>



<p>#<br>server 51.250.45.63<br>client 51.250.34.42<br>sudo dpkg -i filebeat-7.17.8-amd64.deb<br>username: «*******»<br>password: «*******r»</p>



<p>добавляем параметры</p>



<p>sudo vi /etc/filebeat/filebeat.yml<br>output.elasticsearch:<br>hosts: [«51.250.45.63:9200»]<br>username: «admin»<br>password: «123»<br>setup.kibana:<br>host: «51.250.45.63»</p>



<p>Запускаем Filebeat с помощью следующих команд:</p>



<p>sudo systemctl daemon-reload<br>sudo systemctl enable filebeat<br>sudo systemctl start filebeat<br>sudo systemctl status filebeat</p>



<p>sudo filebeat modules enable system<br>sudo filebeat modules enable nginx<br>sudo filebeat modules enable mysql<br>sudo filebeat setup<br>sudo filebeat -e</p>
</div>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="473" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/ELK-2-1024x473.png" alt="" class="wp-image-115" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/ELK-2-1024x473.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/ELK-2-300x139.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/ELK-2-768x355.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/ELK-2-1536x710.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/ELK-2-2048x946.png 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<div class="wp-block-file"><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/ELK-1-1024x473.png">ELK</a><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/ELK-1-1024x473.png" class="wp-block-file__button wp-element-button" download="">Скачать</a></div>



<p>Мониторинг работает!</p>



<p>Разворачиваем свой Zabbix-Server с Ansible и выводим мониторинг zabbix-agent на втором и третям сервере, а также мониторинг PostgreSQL и ELK</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="505" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Zabbix-Dashboard-1-1024x505.png" alt="" class="wp-image-113" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Dashboard-1-1024x505.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Dashboard-1-300x148.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Dashboard-1-768x379.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Dashboard-1-1536x758.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Dashboard-1-2048x1011.png 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<div class="wp-block-file is-style-default"><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Dashboard.png">Zabbix-Dashboard</a><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Dashboard.png" class="wp-block-file__button wp-element-button" download="">Скачать</a></div>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="95" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Zabbix-Hosts-1-1024x95.png" alt="" class="wp-image-114" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Hosts-1-1024x95.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Hosts-1-300x28.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Hosts-1-768x71.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Hosts-1-1536x143.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Hosts-1-2048x190.png 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<div class="wp-block-file"><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Hosts-1024x95.png">Zabbix-Hosts</a><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Zabbix-Hosts-1024x95.png" class="wp-block-file__button wp-element-button" download="">Скачать</a></div>



<p><strong>Заходим на ранее установленный мной сайт Grafana</strong></p>



<p>http://51.250.35.90:3000/</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="233" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Grafana-Dashboads-1-1024x233.png" alt="" class="wp-image-122" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Grafana-Dashboads-1-1024x233.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Grafana-Dashboads-1-300x68.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Grafana-Dashboads-1-768x175.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Grafana-Dashboads-1-1536x349.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Grafana-Dashboads-1-2048x466.png 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<div class="wp-block-file"><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Grafana-Dashboads-1024x233.png">Мониторинг Grafana</a><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Grafana-Dashboads-1024x233.png" class="wp-block-file__button wp-element-button" download="">Скачать</a></div>



<p>На dashboards видно что на всех трех серверах мониториться <em>CPU</em>,&nbsp;<em>mem</em>,&nbsp;<em>disk usage</em>. А также PostgreSQL и ELK</p>



<p><strong>Заворачиваем это все в&nbsp;<em>Docker</em>-контейнер&nbsp;<em>Zabbix</em>,&nbsp;<em>ELK</em>,&nbsp;<em>Grafana</em></strong></p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="459" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Docker-server1-1-1024x459.png" alt="" class="wp-image-124" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server1-1-1024x459.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server1-1-300x135.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server1-1-768x344.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server1-1-1536x689.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server1-1.png 1686w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<div class="wp-block-file"><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server1-1024x459.png">Docker server1</a><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server1-1024x459.png" class="wp-block-file__button wp-element-button" download="">Скачать</a></div>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="416" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/Docker-server3-1-1024x416.png" alt="" class="wp-image-126" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server3-1-1024x416.png 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server3-1-300x122.png 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server3-1-768x312.png 768w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server3-1-1536x624.png 1536w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server3-1.png 1755w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<div class="wp-block-file"><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server3-1024x416.png">Docker server3</a><a href="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/Docker-server3-1024x416.png" class="wp-block-file__button wp-element-button" download="">Скачать</a></div>



<p>И наш полноценный стак мониторинга готов!</p>



<p>В данном проекте я реализовал три виртуальные машины на базе ubuntu, c программами логирования и мониторинга серверов, а также собственной базой данных, почтой с антивирусом и антиспамом, внутреннею сеть VPN, и открытый интернету защищенный сайт. </p>



<figure class="wp-block-image size-full"><img loading="lazy" decoding="async" width="1024" height="768" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/спасибо-за-внимание.jpg" alt="" class="wp-image-127" srcset="https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/спасибо-за-внимание.jpg 1024w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/спасибо-за-внимание-300x225.jpg 300w, https://www.51.250.34.42.nip.io/wp-content/uploads/2024/10/спасибо-за-внимание-768x576.jpg 768w" sizes="auto, (max-width: 1024px) 100vw, 1024px"></figure>



<p></p>
			</div>
					</div>
	</div>
</section>
</div>	
<footer id="footer-section" class="footer-section main-footer">
	 <div class="footer-top">
	<div class="container">
		<div class="row">
						<div class="col-lg-3 col-md-4 col-12 text-center wow fadeInUp mb-4" style="visibility: hidden; animation-name: none;">
				<aside class="widget widget-contact first">
					<div class="contact-area">
						<div class="contact-icon">
								
								<div class="contact-corn"><i class="fa fa-envelope"></i></div>
													</div>
						<div class="contact-info">
															<h6 class="title">Email Us</h6>
														
															<p class="text"><a href="mailto:buptyo3.vladislav@gmail.com">buptyo3.vladislav@gmail.com</a></p>
								
						</div>
					</div>
				</aside>
			</div>
						<div class="col-lg-3 col-md-4 col-12 text-center wow fadeInUp mb-4" style="visibility: hidden; animation-name: none;">
				<aside class="widget widget-contact first">
					<div class="contact-area">
						<div class="contact-icon">
								
								<div class="contact-corn"><i class="fa fa-question"></i></div>
													</div>
						<div class="contact-info">
															<h6 class="title">Have Questions?</h6>
														
															<p class="text"><a href="https://www.51.250.34.42.nip.io/?page_id=26">Contact Us</a></p>
								
						</div>
					</div>
				</aside>
			</div>
						<div class="col-lg-3 col-md-4 col-12 text-center wow fadeInUp mb-4" style="visibility: hidden; animation-name: none;">
				<aside class="widget widget-contact first">
					<div class="contact-area">
						<div class="contact-icon">
								
								<div class="contact-corn"><i class="fa fa-phone"></i></div>
													</div>
						<div class="contact-info">
															<h6 class="title">Call Us</h6>
														
															<p class="text"><a href="https://www.51.250.34.42.nip.io/?page_id=26">+79220000007</a></p>
								
						</div>
					</div>
				</aside>
			</div>
						<div class="col-lg-3 col-md-4 col-12 text-center wow fadeInUp mb-4" style="visibility: hidden; animation-name: none;">
				<aside class="widget widget-contact first">
					<div class="contact-area">
						<div class="contact-icon">
								
								<div class="contact-corn"><i class="fa fa-clock-o"></i></div>
													</div>
						<div class="contact-info">
															<h6 class="title">Opening Hours</h6>
														
															<p class="text"><a href="https://www.51.250.34.42.nip.io/?page_id=26">Mon-Sat: 10- 6 Pm</a></p>
								
						</div>
					</div>
				</aside>
			</div>
					</div>
	</div>
</div>
	 	
<div class="footer-main st-pt-default">
	<div class="container">
		<div class="row row-cols-1 row-cols-lg-4 row-cols-md-2 g-5">
							<div class="col wow fadeInUp" style="visibility: hidden; animation-name: none;">
					 <aside id="text-1" class="widget widget_text"><h5 class="widget-title">Quick contact info</h5>			<div class="textwidget"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorem ipsum dolor sit amet, the administration of justice, I may hear, finally, be expanded on, say, a certain pro cu neglegentur. </font><font style="vertical-align: inherit;">Mazim.Unusual or something.</font></font></p>
	<address class="about-addresss"><i class="fa fa-map-marker"></i>2130 Fulton Street, San Francisco<br>
	<i class="fa fa-envelope-o"></i><a href="mailto:support@test.com">support@test.com</a><br>
	<i class="fa fa-phone"></i><a href="tel:+(15) 123-456-7890">+(15) 1234-56789</a></address>
	</div>
		</aside>				</div>
						
							<div class="col wow fadeInUp" style="visibility: hidden; animation-name: none;">
					 <aside id="categories-1" class="widget widget_categories"><h5 class="widget-title">Categories</h5>
			<ul>
					<li class="cat-item cat-item-1"><a href="https://www.51.250.34.42.nip.io/?cat=1">Без рубрики</a>
</li>
			</ul>

			</aside>				</div>
						
							<div class="col wow fadeInUp" style="visibility: hidden; animation-name: none;">
					 <aside id="archives-1" class="widget widget_archive"><h5 class="widget-title">Archives</h5>
			<ul>
					<li><a href="https://www.51.250.34.42.nip.io/?m=202409">Сентябрь 2024</a></li>
			</ul>

			</aside>				</div>
						
							<div class="col wow fadeInUp" style="visibility: hidden; animation-name: none;">
					 <aside id="search-1" class="widget widget_search"><h5 class="widget-title">Search</h5><form role="search" method="get" class="search-form" action="https://www.51.250.34.42.nip.io/">
	<label>
		<span class="screen-reader-text">Поиск для:</span>
		<input type="search" class="search-field" placeholder="Поиск" value="" name="s">
	</label>
	<button type="submit" class="search-submit" value="Поиск"><i class="fa fa-search"></i></button>
</form></aside>				</div>
					</div>
	</div>
</div>	 <div class="footer-copyright">
	<div class="container">
		<div class="row align-items-center gy-lg-0 gy-4">
			<div class="col-lg-12 col-md-12 col-12 text-center">
				                  
	<div class="copyright-text">
		Авторские права © 2024. Создано <a href="https://www.51.250.34.42.nip.io/?page_id=26#" target="_blank" rel="noopener">Themes Daddy</a>. Работает на <a href="https://www.wordpress.org/" target="_blank" rel="noopener">WordPress</a>.	</div>
 
			</div>	
		</div>
	</div>
</div>       
</footer>
<button type="button" class="scrollingUp scrolling-btn" aria-label="прокрутка вверх"><i class="fa fa-angle-up"></i><svg height="46" width="46"> <circle cx="23" cy="23" r="22" style="stroke-dashoffset: 250px;"></circle></svg></button>
<style id="core-block-supports-inline-css" type="text/css">
.wp-block-gallery.wp-block-gallery-1{--wp--style--unstable-gallery-gap:var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) );gap:var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) );}.wp-elements-ebca4f64b65b4e95b681202791759108 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--black);}.wp-elements-3593b132f4ad5ca8529c11068fa6af75 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--black);}.wp-container-core-group-is-layout-1{flex-direction:column;align-items:flex-start;}.wp-elements-dc349f286b355e067c71c0e3aa0745af a:where(:not(.wp-element-button)){color:var(--wp--preset--color--black);}.wp-elements-d4ca2ee8aa7d4e4fc08ca93a69f846c7 a:where(:not(.wp-element-button)){color:var(--wp--preset--color--black);}.wp-container-core-group-is-layout-2{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-3{flex-direction:column;align-items:flex-start;}.wp-block-gallery.wp-block-gallery-2{--wp--style--unstable-gallery-gap:var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) );gap:var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) );}.wp-container-core-group-is-layout-4{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-5{flex-direction:column;align-items:flex-start;}.wp-block-gallery.wp-block-gallery-3{--wp--style--unstable-gallery-gap:var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) );gap:var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) );}.wp-container-core-group-is-layout-6{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-7{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-8{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-9{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-10{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-11{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-12{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-13{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-14{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-15{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-16{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-17{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-18{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-19{flex-direction:column;align-items:flex-start;}.wp-container-core-group-is-layout-20{flex-direction:column;align-items:flex-start;}
</style>
<script type="text/javascript" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/bootstrap.min.js.Без названия" id="bootstrap-js"></script>
<script type="text/javascript" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/owl.carousel.min.js.Без названия" id="owl-carousel-js"></script>
<script type="text/javascript" src="./Как я однажды сделал итоговый проект — Итоговый проект_files/custom.js.Без названия" id="flixita-custom-js-js"></script>


</body></html>